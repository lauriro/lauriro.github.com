---
layout: post
title: sqlite notes
summary: .
tags: [sqlite, shell]
---

{% highlight bash %}
#!/bin/bash

# Defining my databse first table
STRUCTURE="CREATE TABLE movies (name TEXT);"

touch movies.db
echo "CREATE TABLE movies (name TEXT);" | sqlite3 movies.db
sqlite3 movies.db "INSERT INTO movies (name) VALUES ('test')"
sqlite3 movies.db "INSERT INTO movies (name) VALUES ('test2')"
sqlite3 movies.db "INSERT INTO movies (name) VALUES ('test3')"

sqlite3 movies.db "SELECT name FROM movies" | while read NAME; do echo "Muuvi $NAME is cool"; done

sqlite3 status.db "BEGIN TRANSACTION"
sqlite3 status.db "COMMIT"


# Getting my data
LIST=`sqlite3 dbname.db "SELECT * FROM data WHERE 1"`;

# For each row
for ROW in $LIST; do

	# Parsing data (sqlite3 returns a pipe separated string)
	Id=`echo $ROW | awk '{split($0,a,"|"); print a[1]}'`
	Name=`echo $ROW | awk '{split($0,a,"|"); print a[2]}'`
	Value=`echo $ROW | awk '{split($0,a,"|"); print a[3]}'`
	
	# Printing my data
	echo -e "\e[4m$Id\e[m) "$Name" -> "$Value;
	
done
{% endhighlight %}